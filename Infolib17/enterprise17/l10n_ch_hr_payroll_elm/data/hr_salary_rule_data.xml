<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="l10n_ch_hr_payroll.l10n_ch_employees_ijm" model="hr.salary.rule">
        <field name="active" eval="False"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_company_car_employee_2" model="hr.salary.rule">
        <field name="active" eval="False"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_aanp_salary" model="hr.salary.rule">
        <field name="active" eval="False"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_laac_salary" model="hr.salary.rule">
        <field name="active" eval="False"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_laac_comp" model="hr.salary.rule">
        <field name="active" eval="False"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_ijm_salary" model="hr.salary.rule">
        <field name="active" eval="False"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_ijm_comp" model="hr.salary.rule">
        <field name="active" eval="False"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_indemnity_accident_2" model="hr.salary.rule">
        <field name="active" eval="False"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_indemnity_illness_2" model="hr.salary.rule">
        <field name="active" eval="False"/>
    </record>

    <record id="l10n_ch_employees_as_days" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll_elm.hr_salary_rule_category_as_days"/>
        <field name="name">AS Days</field>
        <field name="code">ASDAYS</field>
        <field name="sequence">1</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if "ASDAYS" in inputs:
    result = inputs["ASDAYS"].amount
else:
    result = payslip._l10n_ch_get_as_days_count()
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_worked_days" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll_elm.hr_salary_rule_category_worked_days"/>
        <field name="name">Worked Days Total</field>
        <field name="code">ISWORKEDDAYS</field>
        <field name="sequence">1</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = contract.l10n_ch_monthly_effective_days if not payslip.l10n_ch_after_departure_payment else 0
result_rate = (categories['ASDAYS'] / 30) * 100
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ch_days" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll_elm.hr_salary_rule_category_ch_days"/>
        <field name="name">Worked Days in CH</field>
        <field name="code">ISWORKEDDAYSINCH</field>
        <field name="sequence">1</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if "ISWORKEDDAYSINCH" in inputs:
    result = inputs["ISWORKEDDAYSINCH"].amount
else:
    result = categories['ISWORKEDDAYS']
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <function model="hr.salary.rule" name="write">
        <value model="hr.salary.rule" search="[
            ('struct_id', '=', ref('l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary')),
            ('code', '=', 'BASIC')]"/>
        <value eval="{
        'sequence': 2,
        'l10n_ch_code': '1000',
        'l10n_ch_gross_included': True,
        'l10n_ch_aanp_included': True,
        'l10n_ch_laac_included': True,
        'l10n_ch_ac_included': True,
        'l10n_ch_ijm_included': True,
        'l10n_ch_source_tax_included': True,
        'l10n_ch_salary_certificate': '1',
        'l10n_ch_caf_statement': '0',
        'l10n_ch_wage_statement': 'I',
        'l10n_ch_yearly_statement': False,
        'l10n_ch_13th_month_included': True,
        'l10n_ch_lpp_forecast': True,
        'l10n_ch_lpp_factor': 13,
        'condition_select': 'python',
        'condition_python': 'result = payslip.wage_type == &quot;monthly&quot;',
        'amount_python_compute': &quot;if 'FORCEMONTHLYBASIC' in inputs:\n    result = inputs['FORCEMONTHLYBASIC'].amount\nelse:\n    result=contract.wage\n    result_rate = categories['ASDAYS'] / 30.0 * 100.0&quot;
        }"/>
    </function>

    <record id="l10n_ch_employees_basic_correction" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.BASIC"/>
        <field name="name">Salary Correction</field>
        <field name="code">BASICCORRECTION</field>
        <field name="l10n_ch_code">1001</field>
        <field name="sequence">1</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'BASICCORRECTION' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['BASICCORRECTION'].amount
result_name = inputs['BASICCORRECTION'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="True"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="True"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_basic_hourly" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.BASIC"/>
        <field name="name">Basic Hourly Salary</field>
        <field name="code">BASICHOURLY</field>
        <field name="l10n_ch_code">1005</field>
        <field name="sequence">1</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = 'BASICHOURLY' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = contract.hourly_wage
result_qty = inputs['BASICHOURLY'].amount
result_name = inputs['BASICHOURLY'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="True"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_basic_lesson" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.BASIC"/>
        <field name="name">Salary per Lesson</field>
        <field name="code">BASICLESSON</field>
        <field name="l10n_ch_code">1006</field>
        <field name="sequence">3</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'BASICLESSON' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = contract.l10n_ch_lesson_wage
result_qty = inputs['BASICLESSON'].amount
result_name = inputs['BASICLESSON'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="True"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_fee" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">FEE</field>
        <field name="code">FEE</field>
        <field name="l10n_ch_code">1010</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'FEE' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['FEE'].amount
result_name = inputs['FEE'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_func_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Functional allowance</field>
        <field name="code">FUNALW</field>
        <field name="l10n_ch_code">1031</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'FUNALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['FUNALW'].amount
result_name = inputs['FUNALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_house_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">House Allowance</field>
        <field name="code">HOUSEALW</field>
        <field name="l10n_ch_code">1033</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'HOUSEALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['HOUSEALW'].amount
result_name = inputs['HOUSEALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="True"/>
        <field name="l10n_ch_lpp_factor" eval="12"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_overtime_after_departure" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Overtime after departure</field>
        <field name="code">OVERTIMEAFTER</field>
        <field name="l10n_ch_code">1067</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'OVERTIMEAFTER' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OVERTIMEAFTER'].amount
result_name = inputs['OVERTIMEAFTER'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_yearly_statement">P</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_overtime_100" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Overtime 100%</field>
        <field name="code">OVERTIME100</field>
        <field name="l10n_ch_code">1065</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'OVERTIME100' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OVERTIME100'].amount
result_name = inputs['OVERTIME100'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">P</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_overtime_125" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Overtime 125%</field>
        <field name="code">OVERTIME125</field>
        <field name="l10n_ch_code">1061</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'OVERTIME125' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OVERTIME125'].amount
result_name = inputs['OVERTIME125'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">P</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_team_work" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Team Work</field>
        <field name="code">TEAMWORK</field>
        <field name="l10n_ch_code">1070</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'TEAMWORK' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['TEAMWORK'].amount
result_name = inputs['TEAMWORK'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">J</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_on_call_alw" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">On-call service allowance</field>
        <field name="code">ONCALLALW</field>
        <field name="l10n_ch_code">1071</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'ONCALLALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['ONCALLALW'].amount
result_name = inputs['ONCALLALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">J</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_sunday_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Sunday Allowance</field>
        <field name="code">SUNDAYALW</field>
        <field name="l10n_ch_code">1073</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'SUNDAYALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['SUNDAYALW'].amount
result_name = inputs['SUNDAYALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">J</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_night_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Night Allowance</field>
        <field name="code">NIGHTALW</field>
        <field name="l10n_ch_code">1076</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'NIGHTALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['NIGHTALW'].amount
result_name = inputs['NIGHTALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">J</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_advance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Advance</field>
        <field name="code">ADVANCE</field>
        <field name="l10n_ch_code">1110</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'ADVANCE' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['ADVANCE'].amount
result_name = inputs['ADVANCE'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement">I</field>
        <field name="l10n_ch_13th_month_included" eval="True"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_holiday_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Holidays allowance</field>
        <field name="code">HOLALW</field>
        <field name="l10n_ch_code">1160</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = contract.wage_type == 'hourly' and contract.hourly_wage</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = round((contract.l10n_ch_yearly_holidays  / (260 - contract.l10n_ch_yearly_holidays)) * 100, 2)
result = categories['BASIC']
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="True"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_public_holiday_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Public holiday allowance</field>
        <field name="code">PUBHOLALW</field>
        <field name="l10n_ch_code">1161</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = contract.wage_type == 'hourly' and contract.hourly_wage</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = round((contract.l10n_ch_yearly_paid_public_holidays / (260 - contract.l10n_ch_yearly_paid_public_holidays)) * 100, 2)
result = categories['BASIC']
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="True"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_vacation_payment" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Vacation Payment</field>
        <field name="code">VACALW</field>
        <field name="l10n_ch_code">1162</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'VACALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['VACALW'].amount
result_name = inputs['VACALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">P</field>
        <field name="l10n_ch_13th_month_included" eval="True"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>


    <record id="l10n_ch_hr_payroll.l10n_ch_employees_departure_time_off" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Holidays payment after departure</field>
        <field name="code">HOLDEP</field>
        <field name="l10n_ch_code">1163</field>
        <field name="sequence">10</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'HOLDEP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['HOLDEP'].amount
result_name = inputs['HOLDEP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">P</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_thirteen_month_provision" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_thirteen_month"/>
        <field name="name">Thirteen Month Provision</field>
        <field name="code">13THMONTHPROVISION</field>
        <field name="l10n_ch_code"></field>
        <field name="sequence">14</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = contract.l10n_ch_thirteen_month</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = sum(result_rules[rule.code]['total'] for rule in payslip.struct_id.rule_ids if rule.l10n_ch_13th_month_included)
if contract.wage_type == 'hourly':
    result_rate = contract.l10n_ch_contractual_13th_month_rate
else:
    result_rate = 100.0 / 12.0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_thirteen_month" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Thirteen Month</field>
        <field name="code">13THMONTH</field>
        <field name="l10n_ch_code">1200</field>
        <field name="sequence">15</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = contract.l10n_ch_thirteen_month and payslip.l10n_ch_pay_13th_month</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if 'FORCETHIRTEENMONTH' in inputs:
    result = inputs["FORCETHIRTEENMONTH"].amount
else:
    last_13th_month_payslip = payslip.search([
        ('employee_id', '=', payslip.employee_id.id),
        ('date_to', '&lt;', payslip.date_from),
        ('l10n_ch_pay_13th_month', '=', True),
        ('state', 'in', ['done', 'paid']),
        ('struct_id.code', '=', 'CHMONTHLY'),
    ], order="date_from desc", limit=1)
    if last_13th_month_payslip:
        date_from = last_13th_month_payslip.date_to + relativedelta(days=1)
    else:
        date_from = contract.employee_id.first_contract_date
    provision_payslips = payslip.search([
        ('employee_id', '=', payslip.employee_id.id),
        ('date_from', '&gt;=', date_from),
        ('date_to', '&lt;=', payslip.date_to),
        ('state', 'in', ['done', 'paid']),
        ('struct_id.code', '=', 'CHMONTHLY'),
    ])
    provision_amount = provision_payslips._get_line_values(['13THMONTHPROVISION'], compute_sum=True)['13THMONTHPROVISION']['sum']['total']
    provision_amount += categories['13THMONTH']
    result = provision_amount

    # Fix rounding issues
    if contract.wage_type == "monthly" and abs(contract.wage - provision_amount) &lt; 12*0.025:
        result = contract.wage
        </field>
        <field name="appears_on_payslip" eval="True"/>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">O</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_gratification" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Gratification</field>
        <field name="code">GRAT</field>
        <field name="l10n_ch_code">1201</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'GRAT' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['GRAT'].amount
result_name = inputs['GRAT'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">Q</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_previous_year_bonus" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Previous Year Bonus</field>
        <field name="code">PREVYBONUS</field>
        <field name="l10n_ch_code">1209</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'PREVYBONUS' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['PREVYBONUS'].amount
result_name = inputs['PREVYBONUS'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">Q</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_14th_month" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">14th Month</field>
        <field name="code">14THMONTH</field>
        <field name="l10n_ch_code">1205</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = '14THMONTH' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['14THMONTH'].amount
result_name = inputs['14THMONTH'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">O</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>
    <record id="l10n_ch_hr_payroll.l10n_ch_employees_bonus" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Bonus</field>
        <field name="code">BONUS</field>
        <field name="l10n_ch_code">1210</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'BONUS' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['BONUS'].amount
result_name = inputs['BONUS'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">Q</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_special_indemnity" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Special Indemnity</field>
        <field name="code">SPEIND</field>
        <field name="l10n_ch_code">1212</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'SPEIND' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['SPEIND'].amount
result_name = inputs['SPEIND'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">Q</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_imp_bonus" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Bonus for improvement proposal</field>
        <field name="code">IMPBONUS</field>
        <field name="l10n_ch_code">1216</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'IMPBONUS' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['IMPBONUS'].amount
result_name = inputs['IMPBONUS'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">Q</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_commission" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Commission</field>
        <field name="code">COMMISSION</field>
        <field name="l10n_ch_code">1218</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'COMMISSION' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['COMMISSION'].amount
result_name = inputs['COMMISSION'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_jubilee_gift" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Seniority Gift</field>
        <field name="code">JUBILEE</field>
        <field name="l10n_ch_code">1230</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'JUBILEE' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['JUBILEE'].amount
result_name = inputs['JUBILEE'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">Q</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_sev_pay" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Severance pay (subject to AVS)</field>
        <field name="code">SEVPAY</field>
        <field name="l10n_ch_code">1401</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'SEVPAY' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['SEVPAY'].amount
result_name = inputs['SEVPAY'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">Q</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_sick_wage" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Salary in case of illness</field>
        <field name="code">SICKWAGE</field>
        <field name="l10n_ch_code">1300</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'SICKWAGE' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['SICKWAGE'].amount
result_name = inputs['SICKWAGE'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement">I</field>
        <field name="l10n_ch_13th_month_included" eval="True"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_accident_wage" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Salary in case of accident</field>
        <field name="code">ACCIDENTWAGE</field>
        <field name="l10n_ch_code">1301</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'ACCIDENTWAGE' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['ACCIDENTWAGE'].amount
result_name = inputs['ACCIDENTWAGE'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement">I</field>
        <field name="l10n_ch_13th_month_included" eval="True"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_pension_capital" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Capital benefit of a pension nature</field>
        <field name="code">PENSIONCAPITAL</field>
        <field name="l10n_ch_code">1410</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'PENSIONCAPITAL' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['PENSIONCAPITAL'].amount
result_name = inputs['PENSIONCAPITAL'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">4</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">S</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_ca_fee" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">CA Fee</field>
        <field name="code">CAFEE</field>
        <field name="l10n_ch_code">1500</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'CAFEE' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['CAFEE'].amount
result_name = inputs['CAFEE'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">6</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">Q</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_free_meals" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Free Meals</field>
        <field name="code">MEALS</field>
        <field name="l10n_ch_code">1900</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'MEALS' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['MEALS'].amount
result_name = inputs['MEALS'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">2.1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">R</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_free_room" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Free Room</field>
        <field name="code">ROOM</field>
        <field name="l10n_ch_code">1901</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'ROOM' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['ROOM'].amount
result_name = inputs['ROOM'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">2.3</field>
        <field name="l10n_ch_yearly_statement">R</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_free_housing" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Free Housing</field>
        <field name="code">HOUSING</field>
        <field name="l10n_ch_code">1902</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'HOUSING' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['HOUSING'].amount
result_name = inputs['HOUSING'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">2.3</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">R</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_company_car_employee" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Company Car (Employee Part)</field>
        <field name="code">COMPCAR</field>
        <field name="l10n_ch_code">1910</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'COMPCAR' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['COMPCAR'].amount
result_name = inputs['COMPCAR'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">2.2</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">R</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_rental_housing" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Rental housing rent reduction</field>
        <field name="code">HOUSERENT</field>
        <field name="l10n_ch_code">1950</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'HOUSERENT' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['HOUSERENT'].amount
result_name = inputs['HOUSERENT'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">2.3</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">R</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_tax_part_fees" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Taxable participation fees</field>
        <field name="code">TAXPFEE</field>
        <field name="l10n_ch_code">1960</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'TAXPFEE' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['TAXPFEE'].amount
result_name = inputs['TAXPFEE'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">5</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">R</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_action_collab" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Actions de collaborateurs</field>
        <field name="code">ACTIONCOLLAB</field>
        <field name="l10n_ch_code">1961</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'ACTIONCOLLAB' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['ACTIONCOLLAB'].amount
result_name = inputs['ACTIONCOLLAB'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate">5</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">R</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_option_collab" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Options de collaborateurs</field>
        <field name="code">OPTCOLLAB</field>
        <field name="l10n_ch_code">1962</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'OPTCOLLAB' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OPTCOLLAB'].amount
result_name = inputs['OPTCOLLAB'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">5</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">R</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_optional_lpp" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Optional employer part LPP</field>
        <field name="code">OPTLPP</field>
        <field name="l10n_ch_code">1972</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'OPTLPP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OPTLPP'].amount
result_name = inputs['OPTLPP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">7</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">T</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_optional_lpp_redemption" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Optional employer part LPP Redemption</field>
        <field name="code">OPTLPPRED</field>
        <field name="l10n_ch_code">1973</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'OPTLPPRED' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OPTLPPRED'].amount
result_name = inputs['OPTLPPRED'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">7</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">T</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_optional_cm" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Optional employer part CM</field>
        <field name="code">OPTCM</field>
        <field name="l10n_ch_code">1974</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'OPTCM' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OPTCM'].amount
result_name = inputs['OPTCM'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">7</field>
        <field name="l10n_ch_yearly_statement">T</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_third_pill_b" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Third pillar B paid by employer</field>
        <field name="code">THIRDPILLB</field>
        <field name="l10n_ch_code">1977</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'THIRDPILLB' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['THIRDPILLB'].amount
result_name = inputs['THIRDPILLB'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">7</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">T</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_third_pill_a" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Third pillar A paid by employer</field>
        <field name="code">THIRDPILLA</field>
        <field name="l10n_ch_code">1978</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'THIRDPILLA' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['THIRDPILLA'].amount
result_name = inputs['THIRDPILLA'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">7</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">T</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_perfecting" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Improvement</field>
        <field name="code">IMPROV</field>
        <field name="l10n_ch_code">1980</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'IMPROV' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['IMPROV'].amount
result_name = inputs['IMPROV'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">13.3</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_indemnity_apg" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Indemnity APG</field>
        <field name="code">INDAPG</field>
        <field name="l10n_ch_code">2000</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'INDAPG' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['INDAPG'].amount
result_name = inputs['INDAPG'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">Y</field>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_military_wage" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Military compensation benefit (CCM)</field>
        <field name="code">MILITARYWAGE</field>
        <field name="l10n_ch_code">2005</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'MILITARYWAGE' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['MILITARYWAGE'].amount
result_name = inputs['MILITARYWAGE'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">Y</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="True"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_indemnity_ai" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Indemnity AI</field>
        <field name="code">INDAI</field>
        <field name="l10n_ch_code">2025</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'INDAI' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['INDAI'].amount
result_name = inputs['INDAI'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement">J</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_annuities_ai" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Annuities AI</field>
        <field name="code">ANNAI</field>
        <field name="l10n_ch_code">2026</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'ANNAI' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['ANNAI'].amount
result_name = inputs['ANNAI'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement">J</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_indemnity_accident" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Accident Indemnity</field>
        <field name="code">INDACC</field>
        <field name="l10n_ch_code">2030</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'INDACC' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['INDACC'].amount
result_name = inputs['INDACC'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_indemnity_illness" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Illness Indemnity</field>
        <field name="code">INDSICK</field>
        <field name="l10n_ch_code">2035</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'INDSICK' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['INDSICK'].amount
result_name = inputs['INDSICK'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_third_party_correction" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Correction of third party compensation</field>
        <field name="code">THIRDPARTYCOR</field>
        <field name="l10n_ch_code">2050</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'THIRDPARTYCOR' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['THIRDPARTYCOR'].amount
result_name = inputs['THIRDPARTYCOR'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">Y</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_indemnity_maternity" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Maternity Indemnity</field>
        <field name="code">INDMAT</field>
        <field name="l10n_ch_code">2040</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'INDMAT' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['INDMAT'].amount
result_name = inputs['INDMAT'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_indemnite_perte_gain" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_indemnite_perte_gain"/>
        <field name="name">Perte de gain RHT/ITP (SH)</field>
        <field name="code">RHTITP</field>
        <field name="l10n_ch_code">2065</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'RHTITP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['RHTITP'].amount
result_name = inputs['RHTITP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_salary_certificate"></field>
        <field name="l10n_ch_wage_statement">Y</field>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_rht_itp_ded" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Déduction RHT/ITP (SM)</field>
        <field name="code">SMRHTITPDED</field>
        <field name="l10n_ch_code">2060</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'SMRHTITPDED' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['SMRHTITPDED'].amount
result_name = inputs['SMRHTITPDED'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_death_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Death Allowance</field>
        <field name="code">DEATHALW</field>
        <field name="l10n_ch_code">1420</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'DEATHALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['DEATHALW'].amount
result_name = inputs['DEATHALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">4</field>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_yearly_statement">S</field>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_indemnite_chomage" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Indemnité de chômage</field>
        <field name="code">CHOMALW</field>
        <field name="l10n_ch_code">2070</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'CHOMALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['CHOMALW'].amount
result_name = inputs['CHOMALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_carence_rht_itp" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Délai de carence RHT/ITP</field>
        <field name="code">CRHTITP</field>
        <field name="l10n_ch_code">2075</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'CRHTITP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['CRHTITP'].amount
result_name = inputs['CRHTITP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_child_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Child Allowance</field>
        <field name="code">CHILDALW</field>
        <field name="l10n_ch_code">3000</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'CHILDALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['CHILDALW'].amount
result_name = inputs['CHILDALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">1</field>
        <field name="l10n_ch_caf_statement">1</field>
        <field name="l10n_ch_wage_statement">K</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_child_allowance_payment" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Child Allowance Payment</field>
        <field name="code">CHILDALWPAY</field>
        <field name="l10n_ch_code">3001</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'CHILDALWPAY' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['CHILDALWPAY'].amount
result_name = inputs['CHILDALWPAY'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_caf_statement">1</field>
        <field name="l10n_ch_wage_statement">K</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_professional_training_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Professional Training Allowance</field>
        <field name="code">TRAININGALW</field>
        <field name="l10n_ch_code">3010</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'TRAININGALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['TRAININGALW'].amount
result_name = inputs['TRAININGALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">I</field>
        <field name="l10n_ch_yearly_statement">K</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_birth_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Birth Allowance</field>
        <field name="code">BIRTHALW</field>
        <field name="l10n_ch_code">3034</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'BIRTHALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['BIRTHALW'].amount
result_name = inputs['BIRTHALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">2</field>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">Q</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_marriage_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Marriage Allowance</field>
        <field name="code">MARRIAGEALW</field>
        <field name="l10n_ch_code">3035</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'MARRIAGEALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['MARRIAGEALW'].amount
result_name = inputs['MARRIAGEALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">3</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
        <field name="l10n_ch_yearly_statement">Q</field>
    </record>

    <record id="l10n_ch_employees_gross_comp" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Gross Compensation</field>
        <field name="code">GROSSCOMP</field>
        <field name="l10n_ch_code">4900</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'GROSSCOMP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['GROSSCOMP'].amount
result_name = inputs['GROSSCOMP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="True"/>
        <field name="l10n_ch_laac_included" eval="True"/>
        <field name="l10n_ch_ac_included" eval="True"/>
        <field name="l10n_ch_ijm_included" eval="True"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="True"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_salary_certificate">7</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">T</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>


    <record id="l10n_ch_employees_avs_base" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_avs_base"/>
        <field name="name">AVS Base</field>
        <field name="code">AVSBASE</field>
        <field name="l10n_ch_code">9010</field>
        <field name="sequence">103</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = sum(result_rules[rule.code]['total'] for rule in payslip.struct_id.rule_ids if rule.l10n_ch_ac_included)
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_avs_franchise" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_avs_franchise"/>
        <field name="name">AVS Franchise IMPUTEE</field>
        <field name="code">AVSFRANCHISE</field>
        <field name="sequence">104</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_avs_status == "retired"
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
franchise = contract.l10n_ch_social_insurance_id._get_retirement_rente(payslip.date_from)
previous_retired_avs_salaries = previous_payslips._get_line_values(['AVSSALARYRET'], compute_sum=True)['AVSSALARYRET']['sum']['total']
if previous_payslips:
    non_imput_franchise_left = previous_payslips[0]._get_line_values(['AVSFRANCHISENONIMP'], compute_sum=True)['AVSFRANCHISENONIMP']['sum']['total']
else:
    non_imput_franchise_left = 0
cumulated_franchise_amount = previous_payslips._get_line_values(['AVSFRANCHISE'], compute_sum=True)['AVSFRANCHISE']['sum']['total']
avs_franchise = min(categories['AVSBASE'] + previous_retired_avs_salaries, franchise + non_imput_franchise_left)
if 0 > cumulated_franchise_amount + avs_franchise:
    result = - cumulated_franchise_amount
else:
    result = avs_franchise
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_avs_franchise_non_imp" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_avs_franchise_non_imp"/>
        <field name="name">Abattement Non Imputé (Cumul)</field>
        <field name="code">AVSFRANCHISENONIMP</field>
        <field name="l10n_ch_code">9012</field>
        <field name="sequence">105</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_avs_status == "retired"
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if previous_payslips:
    non_imput_franchise_left = previous_payslips[0]._get_line_values(['AVSFRANCHISENONIMP'], compute_sum=True)['AVSFRANCHISENONIMP']['sum']['total']
else:
    non_imput_franchise_left = 0
franchise = contract.l10n_ch_social_insurance_id._get_retirement_rente(payslip.date_from)
result = max(0, franchise + non_imput_franchise_left - categories['AVSFRANCHISE'])
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>


    <record id="l10n_ch_employees_avs_open" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_avs_open"/>
        <field name="name">AVS OPEN</field>
        <field name="code">AVSOPEN</field>
        <field name="sequence">106</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_avs_status
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if payslip.l10n_ch_avs_status in ["exempted", "youth"]:
    result = categories['AVSBASE']
elif payslip.l10n_ch_avs_status == "retired":
    result = categories['AVSFRANCHISE']
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_avs_salary" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_avs_salary"/>
        <field name="name">AVS Salary</field>
        <field name="code">AVSSALARY</field>
        <field name="l10n_ch_code">9011</field>
        <field name="sequence">107</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['AVSBASE'] - categories['AVSOPEN']
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_avs_salary_retired" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_avs_salary_retired"/>
        <field name="name">AVS Salary Retired</field>
        <field name="code">AVSSALARYRET</field>
        <field name="sequence">108</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_avs_status
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['AVSBASE'] - categories['AVSOPEN']
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_avs" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">AVS</field>
        <field name="code">AVS</field>
        <field name="l10n_ch_code">5010</field>
        <field name="sequence">109</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['AVSSALARY']
result_rate = -contract.l10n_ch_social_insurance_id._get_avs_rates(payslip.date_from)[0]</field>
        <field name="note">Old Age &amp; Survivor's Insurance, Disability Insurance &amp; Loss of Earnings</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">9</field>
        <field name="l10n_ch_wage_statement">L</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_avs_comp" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">AVS (Comp. Part.)</field>
        <field name="code">AVS.COMP</field>
        <field name="sequence">109</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
if payslip.l10n_ch_avs_status not in ["exempted", "youth"]:
    start = contract.employee_id.birthday
    if start:
        end = payslip.date_from
        age = end.year - start.year - ((end.month, end.day) &lt; (start.month, start.day))
        result = age >= payslip.l10n_ch_social_insurance_id.age_start
    else:
        result = True
else:
    result = False
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['AVSSALARY']
result_rate = contract.l10n_ch_social_insurance_id._get_avs_rates(payslip.date_from)[1]</field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="note">Old Age &amp; Survivor's Insurance, Disability Insurance &amp; Loss of Earnings</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ac_base" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_ac_base"/>
        <field name="name">AC Base</field>
        <field name="code">ACBASE</field>
        <field name="l10n_ch_code">9020</field>
        <field name="sequence">110</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['AVSBASE']
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ac_salary_max" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_ac_threshold"/>
        <field name="name">AC Salary Threshold</field>
        <field name="code">ACSALARYMAX</field>
        <field name="sequence">110</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if payslip.l10n_ch_avs_status or payslip.l10n_ch_after_departure_payment:
    result = 0
else:
    result = contract.l10n_ch_social_insurance_id._get_ac_threshold(payslip.date_from) / 12
    result_rate = categories['ASDAYS'] / 30.0 * 100.0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>


    <record id="l10n_ch_hr_payroll.l10n_ch_employees_ac_salary" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_ac_salary"/>
        <field name="name">AC Salary</field>
        <field name="code">ACSALARY</field>
        <field name="l10n_ch_code">9021</field>
        <field name="sequence">111</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if payslip.l10n_ch_avs_status:
    result = 0
else:
    current_solution = contract.l10n_ch_social_insurance_id
    current_solution_slips = previous_payslips.filtered(lambda p : p.l10n_ch_social_insurance_id.id == current_solution.id)

    ac_base = current_solution_slips._get_line_values(['ACBASE'], compute_sum=True)['ACBASE']['sum']['total'] + categories['ACBASE']
    ac_threshold = current_solution_slips._get_line_values(['ACSALARYMAX'], compute_sum=True)['ACSALARYMAX']['sum']['total'] + categories['ACSALARYMAX']
    previous_ac_salary = current_solution_slips._get_line_values(['ACSALARY'], compute_sum=True)['ACSALARY']['sum']['total']
    result = max(min(ac_base, ac_threshold), 0) - previous_ac_salary
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_ac" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">AC</field>
        <field name="code">AC</field>
        <field name="l10n_ch_code">5020</field>
        <field name="sequence">111</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
if not payslip.l10n_ch_avs_status:
    start = contract.employee_id.birthday
    if start:
        end = payslip.date_from
        age = end.year - start.year - ((end.month, end.day) &lt; (start.month, start.day))
        result = age >= payslip.l10n_ch_social_insurance_id.age_start
    else:
        result = True
else:
    result = False
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
payslips_values = previous_payslips._get_line_values(
    ['ACSALARY', 'AC'],
    vals_list=['amount', 'total'],
    compute_sum=True)
previous_ac_salary = payslips_values['ACSALARY']['sum']['total']
previous_ac_deduction = payslips_values['AC']['sum']['amount']

ac_salary = previous_ac_salary + categories['ACSALARY']
result = ac_salary - previous_ac_deduction
result_rate = - contract.l10n_ch_social_insurance_id._get_ac_rates(payslip.date_from)[0]
        </field>
        <field name="note">
Unemployment Insurance
Source: https://www.cvcicaisseavs.ch/en/employer/unemployment-insurance-ac.html
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">9</field>
        <field name="l10n_ch_wage_statement">L</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_ac_comp" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">AC (Comp. Part.)</field>
        <field name="code">AC.COMP</field>
        <field name="sequence">111</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
if not payslip.l10n_ch_avs_status:
    start = contract.employee_id.birthday
    if start:
        end = payslip.date_from
        age = end.year - start.year - ((end.month, end.day) &lt; (start.month, start.day))
        result = age >= payslip.l10n_ch_social_insurance_id.age_start
    else:
        result = True
else:
    result = False
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
payslips_values = previous_payslips._get_line_values(
    ['ACSALARY', 'AC.COMP'],
    vals_list=['amount', 'total'],
    compute_sum=True)
previous_ac_salary = payslips_values['ACSALARY']['sum']['total']
previous_ac_deduction = payslips_values['AC.COMP']['sum']['amount']

ac_salary = previous_ac_salary + categories['ACSALARY']
result = ac_salary - previous_ac_deduction
result_rate = contract.l10n_ch_social_insurance_id._get_ac_rates(payslip.date_from)[1]
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="note">
Unemployment Insurance
Source: https://www.cvcicaisseavs.ch/en/employer/unemployment-insurance-ac.html
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_acc_salary_max" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_acc_threshold"/>
        <field name="name">ACC Salary Maximum</field>
        <field name="code">ACCSALARYMAX</field>
        <field name="l10n_ch_code">9022</field>
        <field name="sequence">110</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if payslip.l10n_ch_avs_status or payslip.l10n_ch_after_departure_payment:
    result = 0
else:
    result = (contract.l10n_ch_social_insurance_id._get_acc_threshold(payslip.date_from) - contract.l10n_ch_social_insurance_id._get_ac_threshold(payslip.date_from)) / 12
    result_rate = categories['ASDAYS'] / 30.0 * 100.0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_acc_salary" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_acc_salary"/>
        <field name="name">ACC Salary</field>
        <field name="code">ACCSALARY</field>
        <field name="sequence">112</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = not payslip.l10n_ch_avs_status</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
current_solution = contract.l10n_ch_social_insurance_id
current_solution_slips = previous_payslips.filtered(lambda p : p.l10n_ch_social_insurance_id.id == current_solution.id)


ac_base = current_solution_slips._get_line_values(['ACBASE'], compute_sum=True)['ACBASE']['sum']['total'] + categories['ACBASE']
max_cum_acc_possible = current_solution_slips._get_line_values(['ACCSALARYMAX'], compute_sum=True)['ACCSALARYMAX']['sum']['total'] + categories['ACCSALARYMAX']
max_cum_ac_possible = current_solution_slips._get_line_values(['ACSALARYMAX'], compute_sum=True)['ACSALARYMAX']['sum']['total'] + categories['ACSALARYMAX']

acc_salary_cum = current_solution_slips._get_line_values(['ACCSALARY'], compute_sum=True)['ACCSALARY']['sum']['total']
ac_salary_cum = current_solution_slips._get_line_values(['ACSALARY'], compute_sum=True)['ACSALARY']['sum']['total'] + categories['ACSALARY']
trimmed_base = max(0, ac_base - max_cum_ac_possible)
result = max(min(trimmed_base, max_cum_acc_possible), 0) - acc_salary_cum
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_compl_ac" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">ACC</field>
        <field name="code">ACC</field>
        <field name="l10n_ch_code">5030</field>
        <field name="sequence">112</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = not payslip.l10n_ch_avs_status</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
payslips_values = previous_payslips._get_line_values(
    ['ACCSALARY', 'ACC'],
    vals_list=['amount', 'total'],
    compute_sum=True)
previous_acc_salary = payslips_values['ACCSALARY']['sum']['total']
previous_acc_deduction = payslips_values['ACC']['sum']['amount']

ac_salary = previous_acc_salary + categories['ACCSALARY']
result = ac_salary - previous_acc_deduction
result_rate = - contract.l10n_ch_social_insurance_id._get_additional_ac_rates(payslip.date_from)[0]
        </field>
        <field name="note">Additional Unemployment Insurance</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_wage_statement">L</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_salary_certificate">9</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_compl_ac_comp" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">Compl. AC (Comp. Part.)</field>
        <field name="code">ACC.COMP</field>
        <field name="sequence">113</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = not payslip.l10n_ch_avs_status</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
payslips_values = previous_payslips._get_line_values(
    ['ACCSALARY', 'ACC.COMP'],
    vals_list=['amount', 'total'],
    compute_sum=True)
previous_acc_salary = payslips_values['ACCSALARY']['sum']['total']
previous_acc_deduction = payslips_values['ACC.COMP']['sum']['amount']

ac_salary = previous_acc_salary + categories['ACCSALARY']
result = ac_salary - previous_acc_deduction
result_rate = contract.l10n_ch_social_insurance_id._get_additional_ac_rates(payslip.date_from)[1]
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="note">Additional Unemployment Insurance</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ac_open" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_ac_open"/>
        <field name="name">AC OPEN</field>
        <field name="code">ACOPEN</field>
        <field name="sequence">114</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['ACBASE'] - categories['ACSALARY'] - categories['ACCSALARY']
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laa_base" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_laa_base"/>
        <field name="name">LAA Base</field>
        <field name="code">LAABASE</field>
        <field name="l10n_ch_code">9030</field>
        <field name="sequence">115</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result =  sum(result_rules[rule.code]['total'] for rule in payslip.struct_id.rule_ids if rule.l10n_ch_aanp_included)
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laa_salary_max" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_laa_threshold"/>
        <field name="name">LAA Salary Maximum</field>
        <field name="code">LAASALARYMAX</field>
        <field name="sequence">118</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if (not payslip.l10n_ch_accident_insurance_line_id) or payslip.l10n_ch_after_departure_payment:
    result = 0
else:
    result = payslip.l10n_ch_accident_insurance_line_id._get_threshold(payslip.date_from) / 12.0
    result_rate = categories['ASDAYS'] / 30.0 * 100.0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laa_salary_2" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_laa_salary"/>
        <field name="name">LAA Salary</field>
        <field name="code">LAASALARY</field>
        <field name="l10n_ch_code">9031</field>
        <field name="sequence">119</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
current_solution = payslip.l10n_ch_accident_insurance_line_id
if current_solution.solution_number in ['1', '2']:
    current_solution_slips = previous_payslips.filtered(lambda p : p.l10n_ch_accident_insurance_line_id.solution_number in ['1', '2'] and p.l10n_ch_accident_insurance_line_id.insurance_id.id == current_solution.insurance_id.id and p.l10n_ch_accident_insurance_line_id.solution_type == current_solution.solution_type)
else:
    current_solution_slips = previous_payslips.filtered(lambda p : p.l10n_ch_accident_insurance_line_id.id == current_solution.id)
previous_laa_salary = current_solution_slips._get_line_values(['LAASALARY'], compute_sum=True)['LAASALARY']['sum']['total']
current_laa_base =  current_solution_slips._get_line_values(['LAABASE'], compute_sum=True)['LAABASE']['sum']['total'] + categories['LAABASE']

laa_threshold = current_solution_slips._get_line_values(['LAASALARYMAX'], compute_sum=True)['LAASALARYMAX']['sum']['total'] + categories['LAASALARYMAX']

result = max(min(current_laa_base, laa_threshold), 0) - previous_laa_salary
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>


    <record id="l10n_ch_hr_payroll.l10n_ch_employees_aanp" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">AANP</field>
        <field name="code">AANP</field>
        <field name="l10n_ch_code">5040</field>
        <field name="sequence">120</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
solution_number = payslip.l10n_ch_accident_insurance_line_id.solution_number
result_rate = 0
if solution_number == "1":
    rate, employer_part = payslip.l10n_ch_accident_insurance_line_id._get_non_occupational_rates(
        payslip.date_from,
        contract.employee_id.gender)
    result_rate = - rate * (100 - employer_part) / 100

result = categories['LAASALARY']
        </field>
        <field name="note">Accident Insurance (Non Occupational Rates)</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_wage_statement">L</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_salary_certificate">9</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_aap_comp" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">AAP (Comp. Part.)</field>
        <field name="code">AAP.COMP</field>
        <field name="sequence">121</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
solution_number = payslip.l10n_ch_accident_insurance_line_id.solution_number
result_rate = 0
if solution_number in ["1", "2", "3"]:
    rate, employer_part = payslip.l10n_ch_accident_insurance_line_id._get_occupational_rates(
        payslip.date_from,
        contract.employee_id.gender)
    result_rate = (rate * employer_part / 100.0)

result = categories['LAASALARY']
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="note">Accident Insurance (Occupational Rates)</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_aanp_comp" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">AANP (Comp. Part.)</field>
        <field name="code">AANP.COMP</field>
        <field name="sequence">121</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
solution_number = payslip.l10n_ch_accident_insurance_line_id.solution_number
result_rate = 0
if solution_number == "1":
    rate, employer_part = payslip.l10n_ch_accident_insurance_line_id._get_non_occupational_rates(
        payslip.date_from,
        contract.employee_id.gender)
    result_rate = rate * (employer_part / 100)

result = categories['LAASALARY']
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="note">Accident Insurance (Non Occupational Rates)</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_optional_aanp" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Optional employer part AANP</field>
        <field name="code">OPTAANP</field>
        <field name="l10n_ch_code">1975</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'OPTAANP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OPTAANP'].amount
result_name = inputs['OPTAANP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">7</field>
        <field name="l10n_ch_yearly_statement">T</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laac_base" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_laac_base"/>
        <field name="name">LAAC Base</field>
        <field name="code">LAACBASE</field>
        <field name="l10n_ch_code">9040</field>
        <field name="sequence">122</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = sum(result_rules[rule.code]['total'] for rule in payslip.struct_id.rule_ids if rule.l10n_ch_laac_included)
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laac_salary_max_1" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_laac_salary_max_1"/>
        <field name="name">LAAC Salary Maximum Main Insurance</field>
        <field name="code">LAACSALARYMAX1</field>
        <field name="sequence">122</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_additional_accident_insurance_line_ids
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if not payslip.l10n_ch_after_departure_payment:
    current_solution = payslip.l10n_ch_additional_accident_insurance_line_ids[0]
    laac_wages = current_solution._get_rates(payslip.date_from, contract.employee_id.gender)
    result = (laac_wages[1] - laac_wages[0]) / 12
else:
    result = 0
result_rate = categories['ASDAYS'] / 30.0 * 100.0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laac_salary_max_2" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_laac_salary_max_2"/>
        <field name="name">LAAC Salary Maximum Second Insurance</field>
        <field name="code">LAACSALARYMAX2</field>
        <field name="sequence">122</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = len(payslip.l10n_ch_additional_accident_insurance_line_ids) > 1
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if not payslip.l10n_ch_after_departure_payment:
    current_solution = payslip.l10n_ch_additional_accident_insurance_line_ids[1]
    laac_wages = current_solution._get_rates(payslip.date_from, contract.employee_id.gender)
    result = (laac_wages[1] - laac_wages[0]) / 12
else:
    result = 0
result_rate = categories['ASDAYS'] / 30.0 * 100.0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laac_salary_min_1" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_laac_salary_min_1"/>
        <field name="name">LAAC Salary Minimum Main Insurance</field>
        <field name="code">LAACSALARYMIN1</field>
        <field name="sequence">122</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_additional_accident_insurance_line_ids
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if not payslip.l10n_ch_after_departure_payment:
    current_solution = payslip.l10n_ch_additional_accident_insurance_line_ids[0]
    laac_wages = current_solution._get_rates(payslip.date_from, contract.employee_id.gender)
    result = laac_wages[0] / 12
else:
    result = 0
result_rate = categories['ASDAYS'] / 30.0 * 100.0

        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laac_salary_min_2" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_laac_salary_min_2"/>
        <field name="name">LAAC Salary Minimum Second Insurance</field>
        <field name="code">LAACSALARYMIN2</field>
        <field name="sequence">122</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = len(payslip.l10n_ch_additional_accident_insurance_line_ids) > 1
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if not payslip.l10n_ch_after_departure_payment:
    current_solution = payslip.l10n_ch_additional_accident_insurance_line_ids[1]
    laac_wages = current_solution._get_rates(payslip.date_from, contract.employee_id.gender)
    result = laac_wages[0] / 12
else:
    result = 0
result_rate = categories['ASDAYS'] / 30.0 * 100.0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laac_salary_1" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_laac_salary_1"/>
        <field name="name">LAAC Salary Main Insurance</field>
        <field name="code">LAACSALARY1</field>
        <field name="l10n_ch_code">9041</field>
        <field name="sequence">123</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_additional_accident_insurance_line_ids
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
current_solution = payslip.l10n_ch_additional_accident_insurance_line_ids[0]
current_solution_slips_position_1 = previous_payslips.filtered(lambda p : p.l10n_ch_additional_accident_insurance_line_ids and p.l10n_ch_additional_accident_insurance_line_ids[0].id == current_solution.id)
current_solution_slips_position_2 = previous_payslips.filtered(lambda p : len(p.l10n_ch_additional_accident_insurance_line_ids) > 1 and p.l10n_ch_additional_accident_insurance_line_ids[1].id == current_solution.id)

previous_laac_1_salary_1 = current_solution_slips_position_1._get_line_values(['LAACSALARY1'], compute_sum=True)['LAACSALARY1']['sum']['total']
previous_laac_1_salary_2 = current_solution_slips_position_2._get_line_values(['LAACSALARY2'], compute_sum=True)['LAACSALARY2']['sum']['total']

current_laac_1_base_1 =  current_solution_slips_position_1._get_line_values(['LAACBASE'], compute_sum=True)['LAACBASE']['sum']['total']
current_laac_2_base_2 =  current_solution_slips_position_2._get_line_values(['LAACBASE'], compute_sum=True)['LAACBASE']['sum']['total']

wage_from_cum1 = current_solution_slips_position_1._get_line_values(['LAACSALARYMIN1'], compute_sum=True)['LAACSALARYMIN1']['sum']['total']
wage_from_cum2 = current_solution_slips_position_2._get_line_values(['LAACSALARYMIN2'], compute_sum=True)['LAACSALARYMIN2']['sum']['total']

laac_1_threshold_1 = current_solution_slips_position_1._get_line_values(['LAACSALARYMAX1'], compute_sum=True)['LAACSALARYMAX1']['sum']['total']
laac_1_threshold_2 = current_solution_slips_position_2._get_line_values(['LAACSALARYMAX2'], compute_sum=True)['LAACSALARYMAX2']['sum']['total']

previous_laac_1_salary = previous_laac_1_salary_1 + previous_laac_1_salary_2
current_laac_1_base = current_laac_1_base_1 + current_laac_2_base_2 + categories['LAACBASE']
wage_from_cum = wage_from_cum1 + wage_from_cum2 + categories['LAACSALARYMIN1']
laac_1_threshold = laac_1_threshold_1 + laac_1_threshold_2 + categories['LAACSALARYMAX1']

trimmed_laac_base = max(0, current_laac_1_base - wage_from_cum)
result = max(min(trimmed_laac_base, laac_1_threshold), 0) - previous_laac_1_salary
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laac_salary_2" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_laac_salary_2"/>
        <field name="name">LAAC Salary Second Insurance</field>
        <field name="code">LAACSALARY2</field>
        <field name="l10n_ch_code">9043</field>
        <field name="sequence">123</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = len(payslip.l10n_ch_additional_accident_insurance_line_ids) > 1
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
current_solution = payslip.l10n_ch_additional_accident_insurance_line_ids[1]
current_solution_slips_position_1 = previous_payslips.filtered(lambda p : p.l10n_ch_additional_accident_insurance_line_ids and p.l10n_ch_additional_accident_insurance_line_ids[0].id == current_solution.id)
current_solution_slips_position_2 = previous_payslips.filtered(lambda p : len(p.l10n_ch_additional_accident_insurance_line_ids) > 1 and p.l10n_ch_additional_accident_insurance_line_ids[1].id == current_solution.id)

previous_laac_1_salary_1 = current_solution_slips_position_1._get_line_values(['LAACSALARY1'], compute_sum=True)['LAACSALARY1']['sum']['total']
previous_laac_1_salary_2 = current_solution_slips_position_2._get_line_values(['LAACSALARY2'], compute_sum=True)['LAACSALARY2']['sum']['total']

current_laac_1_base_1 =  current_solution_slips_position_1._get_line_values(['LAACBASE'], compute_sum=True)['LAACBASE']['sum']['total']
current_laac_2_base_2 =  current_solution_slips_position_2._get_line_values(['LAACBASE'], compute_sum=True)['LAACBASE']['sum']['total']

wage_from_cum1 = current_solution_slips_position_1._get_line_values(['LAACSALARYMIN1'], compute_sum=True)['LAACSALARYMIN1']['sum']['total']
wage_from_cum2 = current_solution_slips_position_2._get_line_values(['LAACSALARYMIN2'], compute_sum=True)['LAACSALARYMIN2']['sum']['total']

laac_1_threshold_1 = current_solution_slips_position_1._get_line_values(['LAACSALARYMAX1'], compute_sum=True)['LAACSALARYMAX1']['sum']['total']
laac_1_threshold_2 = current_solution_slips_position_2._get_line_values(['LAACSALARYMAX2'], compute_sum=True)['LAACSALARYMAX2']['sum']['total']

previous_laac_1_salary = previous_laac_1_salary_1 + previous_laac_1_salary_2
current_laac_1_base = current_laac_1_base_1 + current_laac_2_base_2 + categories['LAACBASE']
wage_from_cum = wage_from_cum1 + wage_from_cum2 + categories['LAACSALARYMIN2']
laac_1_threshold = laac_1_threshold_1 + laac_1_threshold_2 + categories['LAACSALARYMAX2']

trimmed_laac_base = max(0, current_laac_1_base - wage_from_cum)
result = max(min(trimmed_laac_base, laac_1_threshold), 0) - previous_laac_1_salary
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_laac" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">LAAC1</field>
        <field name="code">LAAC1</field>
        <field name="l10n_ch_code">5041</field>
        <field name="sequence">124</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_additional_accident_insurance_line_ids
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['LAACSALARY1']
wage_from, wage_to, rate, employer_rate = payslip.l10n_ch_additional_accident_insurance_line_ids[0]._get_rates(payslip.date_from, contract.employee_id.gender)
result_rate = -rate * (100 - employer_rate)/100
        </field>
        <field name="note">Main Additional Accident Insurance (LAAC)</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laac_2" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">LAAC2</field>
        <field name="code">LAAC2</field>
        <field name="l10n_ch_code">5043</field>
        <field name="sequence">124</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = len(payslip.l10n_ch_additional_accident_insurance_line_ids) > 1
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['LAACSALARY2']
wage_from, wage_to, rate, employer_rate = payslip.l10n_ch_additional_accident_insurance_line_ids[1]._get_rates(payslip.date_from, contract.employee_id.gender)
result_rate = -rate * (100 - employer_rate) / 100
        </field>
        <field name="note">Second Additional Accident Insurance (LAAC)</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

<!-- YTI TODO Make company part rules consistent with employee counterparts -->
    <record id="l10n_ch_employees_laac_comp_1" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">LAAC1 (Comp. Part.)</field>
        <field name="code">LAAC1.COMP</field>
        <field name="sequence">124</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_additional_accident_insurance_line_ids
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['LAACSALARY1']
wage_from, wage_to, rate, employer_rate = payslip.l10n_ch_additional_accident_insurance_line_ids[0]._get_rates(payslip.date_from, contract.employee_id.gender)
result_rate = rate * (employer_rate) / 100
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="note">Additional Accident Insurance (LAAC)</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_laac_comp_2" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">LAAC2 (Comp. Part.)</field>
        <field name="code">LAAC2.COMP</field>
        <field name="sequence">124</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = len(payslip.l10n_ch_additional_accident_insurance_line_ids) > 1
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['LAACSALARY2']
wage_from, wage_to, rate, employer_rate = payslip.l10n_ch_additional_accident_insurance_line_ids[1]._get_rates(payslip.date_from, contract.employee_id.gender)
result_rate = rate * (employer_rate) / 100
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="note">Additional Accident Insurance (LAAC)</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_optional_laac" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Optional employer part LAAC</field>
        <field name="code">OPTLAAC</field>
        <field name="l10n_ch_code">1976</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = 'OPTLAAC' in inputs
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OPTLAAC'].amount
result_name = inputs['OPTLAAC'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement">7</field>
        <field name="l10n_ch_yearly_statement">T</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ijm_base" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_ijm_base"/>
        <field name="name">IJM Base</field>
        <field name="code">IJMBASE</field>
        <field name="l10n_ch_code">9050</field>
        <field name="sequence">125</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = sum(result_rules[rule.code]['total'] for rule in payslip.struct_id.rule_ids if rule.l10n_ch_ijm_included)
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ijm_salary_max_1" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_ijm_salary_max_1"/>
        <field name="name">IJM Salary Maximum Main Insurance</field>
        <field name="code">IJMSALARYMAX1</field>
        <field name="sequence">122</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_sickness_insurance_line_ids
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if not payslip.l10n_ch_after_departure_payment:
    current_solution = payslip.l10n_ch_sickness_insurance_line_ids[0]
    ijm_wages = current_solution._get_rates(payslip.date_from, contract.employee_id.gender)
    result = (ijm_wages[1] - ijm_wages[0]) / 12
else:
    result = 0
result_rate = categories['ASDAYS'] / 30.0 * 100.0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ijm_salary_max_2" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_ijm_salary_max_2"/>
        <field name="name">IJM Salary Maximum Second Insurance</field>
        <field name="code">IJMSALARYMAX2</field>
        <field name="sequence">122</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = len(payslip.l10n_ch_sickness_insurance_line_ids) > 1
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if not payslip.l10n_ch_after_departure_payment:
    current_solution = payslip.l10n_ch_sickness_insurance_line_ids[1]
    ijm_wages = current_solution._get_rates(payslip.date_from, contract.employee_id.gender)
    result = (ijm_wages[1] - ijm_wages[0]) / 12
else:
    result = 0
result_rate = categories['ASDAYS'] / 30.0 * 100.0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ijm_salary_min_1" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_ijm_salary_min_1"/>
        <field name="name">IJM Salary Minimum Main Insurance</field>
        <field name="code">IJMSALARYMIN1</field>
        <field name="sequence">122</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_sickness_insurance_line_ids
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if not payslip.l10n_ch_after_departure_payment:
    current_solution = payslip.l10n_ch_sickness_insurance_line_ids[0]
    ijm_wages = current_solution._get_rates(payslip.date_from, contract.employee_id.gender)
    result = ijm_wages[0] / 12
    result_rate = categories['ASDAYS'] / 30.0 * 100.0
else:
    result = 0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ijm_salary_min_2" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_ijm_salary_min_2"/>
        <field name="name">IJM Salary Maximum Second Insurance</field>
        <field name="code">IJMSALARYMIN2</field>
        <field name="sequence">122</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = len(payslip.l10n_ch_sickness_insurance_line_ids) > 1
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if not payslip.l10n_ch_after_departure_payment:
    current_solution = payslip.l10n_ch_sickness_insurance_line_ids[1]
    ijm_wages = current_solution._get_rates(payslip.date_from, contract.employee_id.gender)
    result = ijm_wages[0] / 12
    result_rate = categories['ASDAYS'] / 30.0 * 100.0

else:
    result = 0
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>


    <record id="l10n_ch_employees_ijm_salary_1" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_ijm_salary_1"/>
        <field name="name">IJM Salary Main Insurance</field>
        <field name="code">IJMSALARY1</field>
        <field name="l10n_ch_code">9051</field>
        <field name="sequence">125</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_sickness_insurance_line_ids
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
current_solution = payslip.l10n_ch_sickness_insurance_line_ids[0]
current_solution_slips_position_1 = previous_payslips.filtered(lambda p : p.l10n_ch_sickness_insurance_line_ids and p.l10n_ch_sickness_insurance_line_ids[0].id == current_solution.id)
current_solution_slips_position_2 = previous_payslips.filtered(lambda p : len(p.l10n_ch_sickness_insurance_line_ids) > 1 and p.l10n_ch_sickness_insurance_line_ids[1].id == current_solution.id)

previous_ijm_1_salary_1 = current_solution_slips_position_1._get_line_values(['IJMSALARY1'], compute_sum=True)['IJMSALARY1']['sum']['total']
previous_ijm_1_salary_2 = current_solution_slips_position_2._get_line_values(['IJMSALARY2'], compute_sum=True)['IJMSALARY2']['sum']['total']

current_ijm_1_base_1 =  current_solution_slips_position_1._get_line_values(['IJMBASE'], compute_sum=True)['IJMBASE']['sum']['total']
current_ijm_2_base_2 =  current_solution_slips_position_2._get_line_values(['IJMBASE'], compute_sum=True)['IJMBASE']['sum']['total']

wage_from_cum1 = current_solution_slips_position_1._get_line_values(['IJMSALARYMIN1'], compute_sum=True)['IJMSALARYMIN1']['sum']['total']
wage_from_cum2 = current_solution_slips_position_2._get_line_values(['IJMSALARYMIN2'], compute_sum=True)['IJMSALARYMIN2']['sum']['total']

ijm_1_threshold_1 = current_solution_slips_position_1._get_line_values(['IJMSALARYMAX1'], compute_sum=True)['IJMSALARYMAX1']['sum']['total']
ijm_1_threshold_2 = current_solution_slips_position_2._get_line_values(['IJMSALARYMAX2'], compute_sum=True)['IJMSALARYMAX2']['sum']['total']


previous_ijm_1_salary = previous_ijm_1_salary_1 + previous_ijm_1_salary_2
current_ijm_1_base =  current_ijm_1_base_1 + current_ijm_2_base_2 + categories['IJMBASE']
wage_from_cum = wage_from_cum1 + wage_from_cum2 + categories['IJMSALARYMIN1']
ijm_1_threshold = ijm_1_threshold_1 + ijm_1_threshold_2 + categories['IJMSALARYMAX1']

trimmed_ijm_base = max(0, current_ijm_1_base - wage_from_cum)
result = max(min(trimmed_ijm_base, ijm_1_threshold), 0) - previous_ijm_1_salary
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>


    <record id="l10n_ch_employees_ijm_salary_2" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_ijm_salary_2"/>
        <field name="name">IJM Salary Second Insurance</field>
        <field name="code">IJMSALARY2</field>
        <field name="l10n_ch_code">9053</field>
        <field name="sequence">125</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = len(payslip.l10n_ch_sickness_insurance_line_ids) > 1
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
current_solution = payslip.l10n_ch_sickness_insurance_line_ids[1]
current_solution_slips_position_1 = previous_payslips.filtered(lambda p : p.l10n_ch_sickness_insurance_line_ids and p.l10n_ch_sickness_insurance_line_ids[0].id == current_solution.id)
current_solution_slips_position_2 = previous_payslips.filtered(lambda p : len(p.l10n_ch_sickness_insurance_line_ids) > 1 and p.l10n_ch_sickness_insurance_line_ids[1].id == current_solution.id)

previous_ijm_1_salary_1 = current_solution_slips_position_1._get_line_values(['IJMSALARY1'], compute_sum=True)['IJMSALARY1']['sum']['total']
previous_ijm_1_salary_2 = current_solution_slips_position_2._get_line_values(['IJMSALARY2'], compute_sum=True)['IJMSALARY2']['sum']['total']

current_ijm_1_base_1 =  current_solution_slips_position_1._get_line_values(['IJMBASE'], compute_sum=True)['IJMBASE']['sum']['total']
current_ijm_2_base_2 =  current_solution_slips_position_2._get_line_values(['IJMBASE'], compute_sum=True)['IJMBASE']['sum']['total']

wage_from_cum1 = current_solution_slips_position_1._get_line_values(['IJMSALARYMIN1'], compute_sum=True)['IJMSALARYMIN1']['sum']['total']
wage_from_cum2 = current_solution_slips_position_2._get_line_values(['IJMSALARYMIN2'], compute_sum=True)['IJMSALARYMIN2']['sum']['total']

ijm_1_threshold_1 = current_solution_slips_position_1._get_line_values(['IJMSALARYMAX1'], compute_sum=True)['IJMSALARYMAX1']['sum']['total']
ijm_1_threshold_2 = current_solution_slips_position_2._get_line_values(['IJMSALARYMAX2'], compute_sum=True)['IJMSALARYMAX2']['sum']['total']


previous_ijm_1_salary = previous_ijm_1_salary_1 + previous_ijm_1_salary_2
current_ijm_1_base =  current_ijm_1_base_1 + current_ijm_2_base_2 + categories['IJMBASE']
wage_from_cum = wage_from_cum1 + wage_from_cum2 + categories['IJMSALARYMIN2']
ijm_1_threshold = ijm_1_threshold_1 + ijm_1_threshold_2 + categories['IJMSALARYMAX2']

trimmed_ijm_base = max(0, current_ijm_1_base - wage_from_cum)
result = max(min(trimmed_ijm_base, ijm_1_threshold), 0) - previous_ijm_1_salary
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ijm_1" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">IJM1</field>
        <field name="code">IJM1</field>
        <field name="l10n_ch_code">5045</field>
        <field name="sequence">126</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_sickness_insurance_line_ids
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['IJMSALARY1']
wage_to, wage_from, rate, employer_part = payslip.l10n_ch_sickness_insurance_line_ids[0]._get_rates(payslip.date_from, contract.employee_id.gender)
result_rate = - rate * (100 - employer_part) / 100
        </field>
        <field name="note">Daily Sickness Insurance</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ijm_2" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">IJM2</field>
        <field name="code">IJM2</field>
        <field name="l10n_ch_code">5047</field>
        <field name="sequence">126</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = len(payslip.l10n_ch_sickness_insurance_line_ids) > 1
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['IJMSALARY2']
wage_to, wage_from, rate, employer_part = payslip.l10n_ch_sickness_insurance_line_ids[1]._get_rates(payslip.date_from, contract.employee_id.gender)
result_rate = - rate * (100 - employer_part) / 100
        </field>
        <field name="note">Daily Sickness Insurance</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ijm_comp_1" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">IJM1 (Comp. Part.)</field>
        <field name="code">IJM1.COMP</field>
        <field name="sequence">127</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_sickness_insurance_line_ids
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['IJMSALARY1']
wage_to, wage_from, rate, employer_part = payslip.l10n_ch_sickness_insurance_line_ids[0]._get_rates(payslip.date_from, contract.employee_id.gender)
result_rate = rate * (employer_part / 100)
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="note">Daily Sickness Insurance</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_ijm_comp_2" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">IJM2 (Comp. Part.)</field>
        <field name="code">IJM2.COMP</field>
        <field name="sequence">127</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = len(payslip.l10n_ch_sickness_insurance_line_ids) > 1
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['IJMSALARY2']
wage_to, wage_from, rate, employer_part = payslip.l10n_ch_sickness_insurance_line_ids[1]._get_rates(payslip.date_from, contract.employee_id.gender)
result_rate = rate * (employer_part / 100)
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="note">Daily Sickness Insurance</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_optional_ijm" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Optional employer part IJM</field>
        <field name="code">OPTIJM</field>
        <field name="l10n_ch_code">1971</field>
        <field name="sequence">20</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = 'OPTIJM' in inputs
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OPTIJM'].amount
result_name = inputs['OPTIJM'].name
        </field>
        <field name="l10n_ch_gross_included" eval="True"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_lpp_forecast" eval="False"/>
        <field name="l10n_ch_lpp_factor" eval="0"/>
        <field name="l10n_ch_lpp_retroactive" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">7</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement">T</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_lpp" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">LPP</field>
        <field name="code">LPP</field>
        <field name="l10n_ch_code">5050</field>
        <field name="sequence">130</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['LPP'].amount if 'LPP' in inputs else 0
if 'LPP' in inputs:
    result_name = inputs['LPP'].name
        </field>
        <field name="note">
Pension
Source:
-https://hellosafe.ch/prevoyance/lpp/cotisation
-https://finpension.ch/fr/glossaire/salaire-coordonne/
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">10.1</field>
        <field name="l10n_ch_wage_statement">M</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_lpp_redemption" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">LPP: Redemption</field>
        <field name="code">LPPRED</field>
        <field name="l10n_ch_code">5051</field>
        <field name="sequence">130</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'LPPRED' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['LPPRED'].amount
result_name = inputs['LPPRED'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">10.2</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_lpp_comp" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">LPP (Comp. Part.)</field>
        <field name="code">LPP.COMP</field>
        <field name="sequence">130</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['LPP.COMP'].amount if 'LPP.COMP' in inputs else 0
if 'LPP.COMP' in inputs:
    result_name = inputs['LPP.COMP'].name
        </field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="note">
Pension
Source:
-https://hellosafe.ch/prevoyance/lpp/cotisation
-https://finpension.ch/fr/glossaire/salaire-coordonne/
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <function model="hr.salary.rule" name="write">
        <value model="hr.salary.rule" search="[
            ('struct_id', '=', ref('l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary')),
            ('code', '=', 'GROSS')]"/>
        <value eval="{'l10n_ch_code': '5000', 'sequence': 100, 'l10n_ch_salary_certificate': '8', 'l10n_ch_gross_included': False, 'l10n_ch_source_tax_included': False, 'l10n_ch_wage_statement': '', 'amount_python_compute': &quot;result = sum(result_rules[rule.code]['total'] for rule in payslip.struct_id.rule_ids if rule.l10n_ch_gross_included)&quot;}"/>
    </function>

    <record id="l10n_ch_employees_is_base" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_is_base"/>
        <field name="name">IS Base</field>
        <field name="code">ISBASE</field>
        <field name="l10n_ch_code">9065</field>
        <field name="sequence">132</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = sum(result_rules[rule.code]['total'] for rule in payslip.struct_id.rule_ids if rule.l10n_ch_source_tax_included)
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate"></field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_is_salary_dt_p" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_is_salary_dt_p"/>
        <field name="name">IS Salary DT P</field>
        <field name="code">ISSALARYDTP</field>
        <field name="sequence">133</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_is_code
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
periodic_rules = [rule for rule in payslip.struct_id.rule_ids if rule.l10n_ch_salary_certificate and rule.l10n_ch_salary_certificate.split('.')[0] in ['1', '2', '7']]
result = sum(result_rules[rule.code]['total'] for rule in periodic_rules)
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate"></field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_is_salary_dt_ap" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_is_salary_dt_ap"/>
        <field name="name">IS Salary DT AP</field>
        <field name="code">ISSALARYDTAP</field>
        <field name="sequence">133</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = payslip.l10n_ch_is_code
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
periodic_rules = [rule for rule in payslip.struct_id.rule_ids if rule.l10n_ch_salary_certificate and rule.l10n_ch_salary_certificate.split('.')[0] in ['3', '4', '5', '6']]
result = sum(result_rules[rule.code]['total'] for rule in periodic_rules)
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate"></field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_is_salary" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_is_salary"/>
        <field name="name">IS Salary</field>
        <field name="code">ISSALARY</field>
        <field name="l10n_ch_code">9070</field>
        <field name="sequence">140</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if not payslip.l10n_ch_is_code:
    result = 0
else:
    year_days = sum(p._get_line_values(['ISWORKEDDAYS'], compute_sum=True)['ISWORKEDDAYS']['sum']['total'] for p in previous_payslips) + categories['ISWORKEDDAYS']
    year_days_ch = sum(p._get_line_values(['ISWORKEDDAYSINCH'], compute_sum=True)['ISWORKEDDAYSINCH']['sum']['total'] for p in previous_payslips) + categories['ISWORKEDDAYSINCH']

    if not payslip.l10n_ch_after_departure_payment:
        thirteen_m = result_rules['13THMONTH']['total']
        salary_month = (categories['ISSALARYDTP'] - thirteen_m) * categories['ISWORKEDDAYSINCH'] / categories['ISWORKEDDAYS']
        salary_year = (categories['ISSALARYDTAP'] + thirteen_m) * year_days_ch / year_days
        result = salary_month + salary_year
    else:
        last_slip_lines = reference_is_slip._get_line_values(['ISWORKEDDAYS', 'ISWORKEDDAYSINCH'], compute_sum=True)
        last_days = last_slip_lines['ISWORKEDDAYS']['sum']['total']
        last_days_in_ch = last_slip_lines['ISWORKEDDAYSINCH']['sum']['total']
        salary_month = categories['ISSALARYDTP'] * last_days_in_ch / last_days
        salary_year = categories['ISSALARYDTAP'] * year_days_ch / year_days
        result = salary_month + salary_year
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate"></field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_is_salary_dt_aperiodic" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_is_dt_aperiodic_salary"/>
        <field name="name">IS DT Aperiodic Salary</field>
        <field name="code">ISDTSALARYAPERIODIC</field>
        <field name="l10n_ch_code">9072</field>
        <field name="sequence">180</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['ISSALARYDTAP']
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate"></field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_is_salary_dt_periodic" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_is_dt_periodic_salary"/>
        <field name="name">IS DT Periodic Salary</field>
        <field name="code">ISDTSALARYPERIODIC</field>
        <field name="l10n_ch_code">9071</field>
        <field name="sequence">210</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
periodic_salary = categories['ISSALARYDTP']
# Irregular / unknown working time
if contract.l10n_ch_current_occupation_rate:
    periodic_salary = periodic_salary / payslip.contract_id.l10n_ch_current_occupation_rate * payslip.contract_id.l10n_ch_total_occupation_rate
result = periodic_salary
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate"></field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_is_salary_dt" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_is_dt_salary"/>
        <field name="name">IS DT Salary</field>
        <field name="code">ISDTSALARY</field>
        <field name="l10n_ch_code">9073</field>
        <field name="sequence">220</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if not payslip.l10n_ch_is_code:
    result = 0
else:
    if contract.l10n_ch_is_model == "monthly":
        is_dt_periodic = result_rules['ISDTSALARYPERIODIC']['total']
        is_dt_aperiodic = result_rules['ISDTSALARYAPERIODIC']['total']
        if payslip.l10n_ch_after_departure_payment:
            if reference_is_slip.l10n_ch_is_code.split('-')[0] == payslip.l10n_ch_is_code.split('-')[0]:
                reference_slip_values = reference_is_slip._get_line_values(['ASDAYS', 'ISDTSALARYPERIODIC'], compute_sum=True)
                as_days = reference_slip_values['ASDAYS']['sum']['total']
                is_dt_periodic += reference_slip_values['ISDTSALARYPERIODIC']['sum']['total']
            else:
                as_days = 30
        else :
            as_days = result_rules['ASDAYS']['total']
        result = is_dt_periodic / as_days * 30 + is_dt_aperiodic

    elif contract.l10n_ch_is_model == "yearly":
        same_previous_payslips = previous_payslips.filtered(lambda p: p.l10n_ch_is_model == "yearly")
        line_values = same_previous_payslips._get_line_values(['ISDTSALARYPERIODIC', 'ISDTSALARYAPERIODIC', 'ASDAYS'], compute_sum=True)
        previous_is_dt_periodic = line_values['ISDTSALARYPERIODIC']['sum']['total']
        previous_is_dt_aperiodic = line_values['ISDTSALARYAPERIODIC']['sum']['total']
        total_is_dt_periodic = result_rules['ISDTSALARYPERIODIC']['total'] + previous_is_dt_periodic
        total_is_dt_aperiodic = result_rules['ISDTSALARYAPERIODIC']['total'] + previous_is_dt_aperiodic
        total_as_days = line_values['ASDAYS']['sum']['total'] + result_rules['ASDAYS']['total']
        yearly_is_dt_salary = total_is_dt_periodic / total_as_days * 360 + total_is_dt_aperiodic
        result = yearly_is_dt_salary / 12.0
    else:
        result = 0
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate"></field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_is_rate" model="hr.salary.rule">
        <field name="category_id" ref="hr_salary_rule_category_is_rate"/>
        <field name="name">IS Rate</field>
        <field name="code">ISRATE</field>
        <field name="l10n_ch_code">9075</field>
        <field name="sequence">230</field>
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
def find_rates(x, rates):
    x = float_round(x, precision_rounding=1, rounding_method='DOWN')
    for low, high, min_amount, rate in rates:
        if low &lt;= x &lt;= high:
            return min_amount, rate
    return 0, 0

if not payslip.l10n_ch_is_code:
    result = 0
else:
    is_code = payslip.l10n_ch_is_code
    if payslip.l10n_ch_is_code[3:5] in ['HE', 'ME', 'NO', 'SF']:
        canton, tax_code = payslip.l10n_ch_is_code.split("-")
        category_code = tax_code[0:2]
        church_tax = tax_code[2]
        parameter_code = f"l10n_ch_withholding_tax_rates_{canton}_{category_code}_{church_tax}"
    else:
        canton, (tax_scale, child_count, church_tax) = payslip.l10n_ch_is_code.split("-")
        parameter_code = f"l10n_ch_withholding_tax_rates_{canton}_{church_tax}_{tax_scale}_{child_count}"
    rates = payslip._rule_parameter(parameter_code)

    is_dt_salary = result_rules['ISDTSALARY']['total']
    min_amount, rate = find_rates(is_dt_salary, rates)
    result = rate
    result_rules["ISMIN"]['total'] = min_amount  # Yes this is a trick
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate"></field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="l10n_ch_5_cents_rounding" eval="False"/>
        <field name="appears_on_payslip" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_is_correction" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">IS: Correction</field>
        <field name="code">ISCOR</field>
        <field name="l10n_ch_code">5061</field>
        <field name="sequence">234</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = payslips_to_correct or payslip.l10n_ch_after_departure_payment == 'NK'</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
total_compensation = 0
if not payslip.l10n_ch_after_departure_payment:
    for slip in payslips_to_correct:
        log_line_values = slip._get_is_log_line_values()
        slip_is_code = max([(k, log_line_values[k]['ISSALARY']) for k in log_line_values], key=lambda c: c[1])[0]
        total_is, is_salary = log_line_values[slip_is_code]['IS'], log_line_values[slip_is_code]['ISSALARY']
        payslip._log_is_correction(slip_is_code, 'IS', -total_is, slip)
        payslip._log_is_correction(slip_is_code, 'ISSALARY', -is_salary, slip)
        payslip._log_is_correction(payslip.l10n_ch_is_code, 'ISSALARY', is_salary, slip)
        total_compensation += total_is
        is_dt_salary = slip._get_line_values(['ISDTSALARY'], compute_sum=True)['ISDTSALARY']['sum']['total']
        min, rate = payslip._find_rate(payslip.l10n_ch_is_code, is_dt_salary)
        min_amount = (min / is_dt_salary * is_salary) if is_dt_salary else 0
        is_amount = is_salary * rate / 100
        compensated_is = (-min_amount if is_amount &lt; min_amount else -is_amount)
        payslip._log_is_correction(payslip.l10n_ch_is_code, 'IS', compensated_is, slip)
        total_compensation -= compensated_is
else:
    reference_slip_code = reference_is_slip.l10n_ch_is_code
    ref_line_values = reference_is_slip._get_is_log_line_values()[reference_slip_code]
    current_is_salary = result_rules['ISSALARY']['total']
    reference_slip_is_salary = ref_line_values['ISSALARY']
    reference_slip_is_amount = ref_line_values['IS']
    combined_is_salary = current_is_salary + reference_slip_is_salary
    min_amount = (result_rules['ISMIN']['total'] / result_rules['ISDTSALARY']['total'] * combined_is_salary) if result_rules['ISDTSALARY']['total'] else 0
    rate = result_rules['ISRATE']['total']
    total_compensation += reference_slip_is_amount

    if payslip.l10n_ch_is_model == 'monthly':
        is_amount = combined_is_salary * rate / 100
    else:
        yearly_is_log_lines = (previous_payslips.filtered(lambda p: p.l10n_ch_is_code == reference_slip_code) - reference_is_slip)._get_is_log_line_values()[reference_slip_code]
        total_is_salary = yearly_is_log_lines['ISSALARY'] + combined_is_salary
        total_is_amount = yearly_is_log_lines['IS']
        is_amount = total_is_salary * rate / 100 + total_is_amount
    is_amount_final =  (-min_amount if is_amount &lt; min_amount else -is_amount)
    total_compensation -= is_amount_final
    payslip._log_is_correction(reference_slip_code, 'IS', -reference_slip_is_amount, reference_is_slip)


    payslip._log_is_correction(reference_slip_code, 'IS', is_amount_final, reference_is_slip)
    payslip._log_is_correction(reference_slip_code, 'ISSALARY', -reference_slip_is_salary, reference_is_slip)
    payslip._log_is_correction(reference_slip_code, 'ISSALARY', combined_is_salary, reference_is_slip)
            
result = - total_compensation
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">12</field>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>


<!-- YTI TODO : Reorder all sequences 5 by 5 -->
    <record id="l10n_ch_hr_payroll.l10n_ch_employees_withholding_tax" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">IS</field>
        <field name="code">IS</field>
        <field name="l10n_ch_code">5060</field>
        <field name="sequence">236</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = payslip.l10n_ch_is_code</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
if payslip.l10n_ch_is_code and not payslip.l10n_ch_after_departure_payment == 'NK':
    is_salary = result_rules['ISSALARY']['total']
    is_dt_salary = result_rules['ISDTSALARY']['total']
    min_amount = (result_rules['ISMIN']['total'] / is_dt_salary * is_salary) if is_dt_salary else 0
    rate = result_rules['ISRATE']['total']

    if payslip.l10n_ch_after_departure_payment == 'N' or payslip.l10n_ch_is_model== "monthly":
        is_amount = is_salary * rate / 100
        result = (-min_amount if is_amount &lt; min_amount else -is_amount)
        payslip._log_is_correction(payslip.l10n_ch_is_code, 'IS', result, False, False)
    else:
        total_is = 0
        is_log_lines = (previous_payslips)._get_is_log_line_values()
        canton = payslip.l10n_ch_is_code.split('-')[0]
        all_is_codes = set([c for c in (previous_payslips + payslip).mapped('l10n_ch_is_code') if c.split('-')[0] == canton])
        for is_code in all_is_codes:
            code_is_salary, code_total_is = is_log_lines[is_code]['ISSALARY'], is_log_lines[is_code]['IS']
            if is_code == payslip.l10n_ch_is_code:
                code_is_salary += is_salary
            min, rate = payslip._find_rate(is_code, is_dt_salary)
            min_amount = (min / is_dt_salary * code_is_salary) if is_dt_salary else 0
            is_amount = -(code_is_salary * rate / 100 + code_total_is)
            total_is += is_amount
            payslip._log_is_correction(is_code, 'IS', is_amount, False, False)
        result = total_is
else:
    result = 0
        </field>
        <field name="note">
Kept tax in the source
See: https://www.estv.admin.ch/estv/fr/accueil/impot-federal-direct/impot-a-la-source/baremes-cantonaux.html</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">12</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_fak" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_caf"/>
        <field name="name">CAF</field>
        <field name="code">CAF</field>
        <field name="l10n_ch_code">5070</field>
        <field name="sequence">260</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = contract.l10n_ch_compensation_fund_id
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['GROSS']
result_rate = - contract.l10n_ch_compensation_fund_id._get_caf_rates(payslip.date_from, 'employee_rate')
</field>
        <field name="note">CAF Contribution (Family Allowances)</field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_wage_statement">9</field>
        <field name="l10n_ch_yearly_statement">L</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_fak_company" model="hr.salary.rule">
        <field name="category_id" ref="l10n_ch_hr_payroll.hr_salary_rule_category_comp_part"/>
        <field name="name">CAF (Comp. Part.)</field>
        <field name="code">CAF.COMP</field>
        <field name="sequence">270</field>
        <field name="condition_select">python</field>
        <field name="condition_python">
result = contract.l10n_ch_compensation_fund_id
        </field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = categories['GROSS']
result_rate = contract.l10n_ch_compensation_fund_id._get_caf_rates(payslip.date_from, 'company_rate')
</field>
        <field name="note">CAF Contribution (Family Allowances) Company</field>
        <field name="appears_on_payslip" eval="False"/>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_restreint_private_share_service_car" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">Restraint Private share service car</field>
        <field name="code">SERVICECAR</field>
        <field name="l10n_ch_code">5080</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'SERVICECAR' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['SERVICECAR'].amount
result_name = inputs['SERVICECAR'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_benefits_in_kind_correction" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">Correction of benefits in kind</field>
        <field name="code">BIKCORRECTION</field>
        <field name="l10n_ch_code">5100</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'BIKCORRECTION' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['BIKCORRECTION'].amount
result_name = inputs['BIKCORRECTION'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_cash_advantage_correction" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">Cash Advantage Correction</field>
        <field name="code">CASHCORRECTION</field>
        <field name="l10n_ch_code">5110</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'CASHCORRECTION' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['CASHCORRECTION'].amount
result_name = inputs['CASHCORRECTION'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_employer_lpp_compensation" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">Compensation for employer LPP contributions</field>
        <field name="code">COMPLPP</field>
        <field name="l10n_ch_code">5111</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = result_rules['OPTLPP']['total']</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = - result_rules['OPTLPP']['total']
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_salary_certificate">10.1</field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_employer_lpp_compensation_rachat" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.DED"/>
        <field name="name">Compensation rachat LPP employeur</field>
        <field name="code">COMPRLPP</field>
        <field name="l10n_ch_code">5112</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = result_rules['OPTLPPRED']['total']</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = - result_rules['OPTLPPRED']['total']
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">10.2</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_yearly_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_travel_expense" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Travel Expense</field>
        <field name="code">TRAVEXP</field>
        <field name="l10n_ch_code">6000</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'TRAVEXP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['TRAVEXP'].amount
result_name = inputs['TRAVEXP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">13.1.1</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_effective_expatriate_costs" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Effective expatriate costs</field>
        <field name="code">EFFECTIVEEXPAT</field>
        <field name="l10n_ch_code">6020</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'EFFECTIVEEXPAT' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['EFFECTIVEEXPAT'].amount
result_name = inputs['EFFECTIVEEXPAT'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">13.1.2</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_employees_flat_expatriate_costs" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Flat rate fees for expatriates</field>
        <field name="code">FLATEXPAT</field>
        <field name="l10n_ch_code">6035</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'FLATEXPAT' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['FLATEXPAT'].amount
result_name = inputs['FLATEXPAT'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">2.3</field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_family_allowance" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Family Allowance</field>
        <field name="code">FAMILYALW</field>
        <field name="l10n_ch_code">3030</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'FAMILYALW' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['FAMILYALW'].amount
result_name = inputs['FAMILYALW'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="True"/>
        <field name="l10n_ch_wage_statement">3</field>
        <field name="l10n_ch_yearly_statement">Q</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_car_expense" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Car Expense</field>
        <field name="code">CAREXP</field>
        <field name="l10n_ch_code">6001</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'CAREXP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['CAREXP'].amount
result_name = inputs['CAREXP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_wage_statement">13.1.1</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_lunch_expense" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Lunch Expense</field>
        <field name="code">LUNCHEXP</field>
        <field name="l10n_ch_code">6002</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'LUNCHEXP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['LUNCHEXP'].amount
result_name = inputs['LUNCHEXP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_wage_statement">13.1.1</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_nightly_expense" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Nightly Expense</field>
        <field name="code">NIGHTEXP</field>
        <field name="l10n_ch_code">6010</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'NIGHTEXP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['NIGHTEXP'].amount
result_name = inputs['NIGHTEXP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_wage_statement">13.1.1</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_other_expense" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Other Expense</field>
        <field name="code">OTHEREXP</field>
        <field name="l10n_ch_code">6030</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'OTHEREXP' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OTHEREXP'].amount
result_name = inputs['OTHEREXP'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_wage_statement">13.1.2</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_representation_fees" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Representation Fees</field>
        <field name="code">REPFEES</field>
        <field name="l10n_ch_code">6040</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'REPFEES' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['REPFEES'].amount
result_name = inputs['REPFEES'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_salary_certificate">13.2.1</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_car_fees" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Car Fees</field>
        <field name="code">CARFEES</field>
        <field name="l10n_ch_code">6050</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'CARFEES' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['CARFEES'].amount
result_name = inputs['CARFEES'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">13.2.2</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <record id="l10n_ch_hr_payroll.l10n_ch_employees_other_fees" model="hr.salary.rule">
        <field name="category_id" ref="hr_payroll.ALW"/>
        <field name="name">Other Fees</field>
        <field name="code">OTHERFEES</field>
        <field name="l10n_ch_code">6070</field>
        <field name="sequence">280</field>
        <field name="condition_select">python</field>
        <field name="condition_python">result = 'OTHERFEES' in inputs</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = inputs['OTHERFEES'].amount
result_name = inputs['OTHERFEES'].name
        </field>
        <field name="l10n_ch_gross_included" eval="False"/>
        <field name="l10n_ch_aanp_included" eval="False"/>
        <field name="l10n_ch_laac_included" eval="False"/>
        <field name="l10n_ch_ac_included" eval="False"/>
        <field name="l10n_ch_ijm_included" eval="False"/>
        <field name="l10n_ch_source_tax_included" eval="False"/>
        <field name="l10n_ch_salary_certificate">13.2.3</field>
        <field name="l10n_ch_wage_statement"></field>
        <field name="l10n_ch_caf_statement">0</field>
        <field name="l10n_ch_13th_month_included" eval="False"/>
        <field name="struct_id" ref="l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary"/>
    </record>

    <function model="hr.salary.rule" name="write">
        <value model="hr.salary.rule" search="[
            ('struct_id', '=', ref('l10n_ch_hr_payroll.hr_payroll_structure_ch_employee_salary')),
            ('code', '=', 'NET')]"/>
        <value eval="{'sequence' : 300, 'l10n_ch_code': '6500', 'l10n_ch_salary_certificate': '11'}"/>
    </function>
</odoo>
